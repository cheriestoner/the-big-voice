<!-- <!DOCTYPE html>
<html>
<script src="https://d3js.org/d3.v7.js"></script>
<body>
<h2>Scatter-Plot</h2>

<div id="d3_scatterplot"></div>

<script src="static/scatterplot.js"></script>

</body>
</html> -->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <style>
            body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
                background: #f0f0f0;
            }
            #controls {
                margin-bottom: 20px;
            }
            canvas {
                border: 1px solid #000;
                background-color: #fff;
            }
        </style>
    </head>
<script src="https://d3js.org/d3.v7.js"></script>
<body>
<h2>D3.js Scatter-Plot</h2>

<svg id="myPlot" style="width:500px;height:500px"></svg>

<script>
// Set Dimensions
const xSize = 500; 
const ySize = 500;
const margin = 40;
const xMax = xSize - margin*2;
const yMax = ySize - margin*2;


// Create Random Points
// const numPoints = 32;
// const data = [];
// for (let i = 0; i < numPoints; i++) {
//   data.push([Math.random(), Math.random()]);
// }


// d3.csv('data/xyz.csv', function(d) {
//     console.log(d)
// });
// d3.text('data/xyz.csv').then(text => d3.csvParseRows(text));
data = []
d3.text('data/xyz.csv').then(function(text) {
    data = d3.csvParseRows(text);
    console.log(data);
    visualizeCSV(data);
});

function visualizeCSV(data) {

    // Append SVG Object to the Page
    const svg = d3.select("#myPlot")
    .append("svg")
    .append("g")
    .attr("transform","translate(" + margin + "," + margin + ")");

    // X Axis
    const x = d3.scaleLinear()
    .domain([0, 1]) // input domainxt
    .range([0, xMax]); //output range

    svg.append("g")
    .attr("transform", "translate(0," + yMax + ")")
    .call(d3.axisBottom(x));

    // Y Axis
    const y = d3.scaleLinear()
    .domain([0, 1])
    .range([ yMax, 0]);

    svg.append("g")
    .call(d3.axisLeft(y));

    // Dots
    svg.append('g')
    .selectAll("dot")
    .data(data).enter()
    .append("circle")
    .attr("cx", function (d) { return x(d[0]) } )
    .attr("cy", function (d) { return y(d[1]) } )
    .attr("r", 3)
    .style("fill", "Red");
}
</script>

</body>
</html>
